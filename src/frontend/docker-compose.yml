services:
  bashkirtseff-app:
    build:
      context: ../..
      dockerfile: src/frontend/Dockerfile
      args:
        # Umami analytics â€” set after creating the site in Umami dashboard
        PUBLIC_UMAMI_WEBSITE_ID: ${PUBLIC_UMAMI_WEBSITE_ID:-}
        PUBLIC_UMAMI_URL: ${PUBLIC_UMAMI_URL:-https://analytics.bashkirtseff.org}
    container_name: bashkirtseff-app
    restart: unless-stopped
    networks:
      - nginx_npm_network
    labels:
      - "com.centurylinklabs.watchtower.enable=false"

networks:
  nginx_npm_network:
    external: true
